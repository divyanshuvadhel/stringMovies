<!DOCTYPE html>
<html>
<head>
    <title>Firebase Test</title>
</head>
<body>
    <h1>Firebase Test</h1>
    <button onclick="testFirebase()">Test Firebase Connection</button>
    <div id="result"></div>

    <script type="module">
        window.testFirebase = async function() {
            const result = document.getElementById('result');
            result.innerHTML = 'Testing Firebase...';
            
            try {
                console.log('Importing Firebase...');
                const { addReview, getReviews } = await import('./src/js/firebase.js');
                console.log('Firebase imported successfully');
                
                // Test adding a review
                console.log('Testing add review...');
                const success = await addReview('test123', 'movie', {
                    name: 'Test User',
                    rating: 5,
                    text: 'Test review',
                    date: new Date().toLocaleDateString()
                });
                console.log('Add review result:', success);
                
                // Test getting reviews
                console.log('Testing get reviews...');
                const reviews = await getReviews('test123', 'movie');
                console.log('Get reviews result:', reviews);
                
                result.innerHTML = `
                    <p>Add Review: ${success ? 'SUCCESS' : 'FAILED'}</p>
                    <p>Get Reviews: ${reviews.length} reviews found</p>
                    <pre>${JSON.stringify(reviews, null, 2)}</pre>
                `;
            } catch (error) {
                console.error('Firebase test error:', error);
                result.innerHTML = `<p style="color: red;">Error: ${error.message}</p>`;
            }
        };
    </script>
</body>
</html>