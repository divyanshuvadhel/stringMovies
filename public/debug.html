<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Debug - StringMovies</title>
    <style>
        body { font-family: Arial, sans-serif; padding: 20px; background: #000; color: #fff; }
        .test { margin: 10px 0; padding: 10px; border: 1px solid #333; }
        .success { border-color: green; }
        .error { border-color: red; }
        pre { background: #222; padding: 10px; overflow-x: auto; }
    </style>
</head>
<body>
    <h1>Mobile Debug Test</h1>
    <div id="results"></div>
    
    <script>
        const results = document.getElementById('results');
        
        function addResult(title, success, data) {
            const div = document.createElement('div');
            div.className = `test ${success ? 'success' : 'error'}`;
            div.innerHTML = `
                <h3>${title}: ${success ? '✅' : '❌'}</h3>
                <pre>${JSON.stringify(data, null, 2)}</pre>
            `;
            results.appendChild(div);
        }
        
        async function runTests() {
            // Test 1: Basic connectivity
            addResult('Online Status', navigator.onLine, { online: navigator.onLine });
            
            // Test 2: User Agent
            addResult('User Agent', true, { userAgent: navigator.userAgent });
            
            // Test 3: API Test
            try {
                const response = await fetch('https://api.themoviedb.org/3/movie/popular?language=en-US&page=1', {
                    headers: {
                        'Authorization': 'Bearer eyJhbGciOiJIUzI1NiJ9.eyJhdWQiOiIzOTEwNmE5YWUzOTZhYWIyYTg1MTliOTE4YjNjZTU2YyIsIm5iZiI6MTcxMTQ1MTk5MC43MzcsInN1YiI6IjY2MDJhZjU2NDU5YWQ2MDE4N2ZjMDk2NyIsInNjb3BlcyI6WyJhcGlfcmVhZCJdLCJ2ZXJzaW9uIjoxfQ.kP5Gwqlw_4AQehKdmLjcKxNtEAvQTkyx6An9PMQBXa4'
                    }
                });
                const data = await response.json();
                addResult('API Test', response.ok, { status: response.status, results: data.results?.length || 0 });
            } catch (error) {
                addResult('API Test', false, { error: error.message });
            }
            
            // Test 4: Module Support
            try {
                const module = await import('./src/js/config.js');
                addResult('ES Modules', true, { config: !!module.default });
            } catch (error) {
                addResult('ES Modules', false, { error: error.message });
            }
        }
        
        runTests();
    </script>
</body>
</html>